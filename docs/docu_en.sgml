<!DOCTYPE BOOK PUBLIC "-//OASIS//DTD DocBook V4.2//EN" [
<!ENTITY progname "Xdobry">
]>
<book id="index" lang="en">
<bookinfo>
<title>Documentation of the &progname; application</title>
<author><firstname>Artur</firstname><surname>Trzewik</surname></author>
<abstract>
<para>
<emphasis>This documentation is computer translated from German language.
I need your help to correct this docs</emphasis>
</para>
<para>
&progname is a new approach database form generator for relational databases.
The forms are generated not from relational-schema (by reading data dictionary) but from conceptional-schema made by using reverse engineering.
The forms supports rich semantic abstraction: association (relationship) as Form-Link, aggregation as nested Forms and object inheritance as Tab-Widget and foreign-keys as multi-columns lists.
Therefore form are not another representation of tables but object at higher abstractions level. 
There are three programs: SchemaEditor for making a conceptional schema, FormEditor GUI Drag and Drop Editor for DB-Form and FormServer.
The System is programmed in Tcl-Language (with extension Tk Tix XOTcl tDOM), used XML as Format for describing Form-GUI and DB-Schema (Repository).
</para>
</abstract>
</bookinfo>
<chapter lang="en" id="progspez">
<title>
&progname; Specification</title>
<para>
This chapter describes the intended purpose of the program and its main features.
There you can find the  answered, whom and for what it can be useful.
The target user-group and their demands are named.
</para>
<sect1>
<title>
Principal purpose of the program</title>
<para>
This program makes possible fast and simple production of DB-form-applications.
DB-forms are the GUI interfaces to a databases which allow the comfortable treatment of data contents.
The program sets in front an existing relational databases (SQL-databases) to him the forms should be created.
The production of the forms run automatically or semiautomatic by help of special assistants.
No programing knowledge is demanded.
The created forms are not simply the another form of the tables in relational databases.
They correspond rather to a higher abstraction-level confesses from conceptual models.
</para>
</sect1>

<sect1><title>Features and Benefits</title>
<para>
<itemizedlist>
<listitem><para>platform independent: binary packages for Windows and Linux (Intel) accessible</para></listitem>
<listitem><para>supports all main databases: Oracle, MS SQL-Server, mysql, postgres, MS Access, general ODBC</para></listitem>
<listitem><para>Easy migration of data and schema between all supported databases.
</para></listitem>
<listitem><para>small runtime system. No special installation or further requirements are needed
</para></listitem>
<listitem><para>special wizards and assistant make easy migrate the data, manipulate schema or build GUI-forms</para></listitem>
<listitem><para>reach set of special database GUI-elements
</para></listitem>
</itemizedlist>
</para>
</sect1>

<sect1>
<title>Characteristics</title>
<para>
The program was developed as an open system of the creation of DB-applications, but only DB-forms applications are fully implemented yet.
It is a CASE-tool for the databases area.
In contrast to existing systems the production of the forms was understood as a multi-level process. 
The principal reason for the bad quality of the automatically created forms, with conventional system, is the use of the relational schema (data dictionary) as a source of information for form generator.
Then such forms must be adapted manually.
Relational schema (table structure) contains only few information about the semantics of the data.
It are simple too few information for creating good forms.
With &progname; the production of the forms are made in three steps
<orderedlist>
<listitem>
<para>
Exact specification the DB-schema on the step of the conceptual model, use of reverse engineering technology.
 User DB-administrator</para>
</listitem>
<listitem>
<para>
Automatic production of the forms.
 Adaptation of the appearance in the GUI-editor.
 User DB-application developer </para>
</listitem>
<listitem>
<para>
Use of the DB-forms for the treatment of the data. End user</para>
</listitem>
</orderedlist>
In this way man can produce quickly and hight quality DB-form.
The forms are in this system more a representation of objects then tables.
<orderedlist>
<listitem>
<para>
The relationship among the objects are used to build a link-navigation for browsing the data domain.
The form can be used like hypertext documents (hyper forms).
One can discover the objects association (relationship) without the knowledge about data structure.
</para>
</listitem>
<listitem>
<para>
The forms support hight level abstraction as aggregation or heritage.
This is performed as nested forms.
</para>
</listitem>
<listitem>
<para>
The complex modeling concepts like foreign-keys are hidden from user.
The system handles the user friendly display of foreign keys and check the integrity.
</para>
</listitem>
</orderedlist>

 For every step a separated program is responsible which was developed for other target user group:<orderedlist>
<listitem>
<para>
SchemaEditor</para>
</listitem>
<listitem>
<para>
FormEditor, form generator and GUI-Drag and drop editor</para>
</listitem>
<listitem>
<para>
FormServer</para>
</listitem>
</orderedlist>
</para>
<para>
&progname; It was developed as a part of a dissertation.
It is still , extended and modified
</para>
</sect1>
<sect1>
<title>
Target user-group</title>
<para>
 &progname; is a high-specialized program for the development of databases applications.
Correspondingly high are the demands for the users.
I have not developed this program to make complex systems, such as databases, simple.
It should make only the handling of such systems easy.
These are tools for DB-specialist with which the development of DB-forms can be effective and can be fast.
</para>
<para>
 The system &progname; was developed in 3 components for 3 different user's groups.
<orderedlist>
<listitem>
<para>
DB-administrator: knowledge: relational databases, DB-developing, relational schema.
 Conceptual schema</para>
</listitem>
<listitem>
<para>
DB-application developer: knowledge: GUI-developing</para>
</listitem>
<listitem><para>End user: fundamental use of computer</para></listitem>
</orderedlist>
</para>
</sect1>
<sect1><title>Technical data</title>
<para>
The program was implemented under Linux with programing language Tcl (and its extensions: Tk, Tix, tDom, XOTcl).
Because of a lot of components the compilation and configuration can be difficult.
MySql relational databases was used as a primary test database-manager.
The was designed to work with standard SQL-92 databases.
</para>
</sect1>
<sect1><title>Version Changes Log</title>
<bridgehead>Version 0.12</bridgehead>
<itemizedlist>
<listitem><para>Grid Packer (Geometry Manager) is supported</para></listitem>
<listitem><para>Form-Links are extended, one can browse with forms like with hypertext-documents</para></listitem>
<listitem><para>The is new API for user-macros for FormServer</para></listitem>
<listitem><para>Property-Dialog in FormEditor was new programmed.</para></listitem>
<listitem><para>You can reduce the forms functionality (no delete, no insert, no update).</para></listitem>
<listitem><para>Sorting. You can view sorted tuples in forms.</para></listitem>
</itemizedlist>
<bridgehead>Version 0.14</bridgehead>
<itemizedlist>
<listitem><para>Many Bugs was killed</para></listitem>
<listitem><para>Better Error-Handling (SQL Error from databases are catch)</para></listitem>
<listitem><para>adapt for mysqltcl2.0 and  xotcl8.3</para></listitem>
<listitem><para>the DB-interfaces are loaded on demand in separates files.</para></listitem>
</itemizedlist>
<bridgehead>Version 0.15</bridgehead>
<itemizedlist>
<listitem><para>tested with RedHat 7.0, mysql 3.23 and postgresql 7.0</para></listitem>
<listitem><para>The most changes are done by FormServer.
<itemizedlist>
<listitem><para>insert-only modi is supported</para></listitem>
<listitem><para>many start options</para></listitem>
<listitem><para>checking of not null condition</para></listitem>
<listitem><para>keybord accelator can be used for navigation</para></listitem>
<listitem><para>many user friendly gui-logic</para></listitem>
</itemizedlist>
</para></listitem>
<listitem><para>Support of dbitotcl interface. It allows to user all databases that have a Perl DBI interface (experimental tested only with mysql).</para></listitem>
</itemizedlist>
<bridgehead>Version 0.16</bridgehead>
<itemizedlist>
<listitem><para>Program code refactoring.</para></listitem>
<listitem><para>Form filters can be named and saved.</para></listitem>
<listitem><para>Form supports the templates. You can fill up quickly the data fields with specified data.</para></listitem>
<listitem><para>All input can be validated by data checker</para></listitem>
<listitem><para>You can specify the help text to all widgets and get it by F1-Key.</para></listitem>
<listitem><para>many bugs are killed.</para></listitem>
</itemizedlist>
<bridgehead>Version 0.20</bridgehead>
<itemizedlist>
<listitem><para>extensive refactoring by FormEngine and FormFactory packages</para></listitem>
<listitem><para>Filters becomes own windows by FormServer (more flexible filters are possible)</para></listitem>
<listitem><para>The is new API for user-macros for FormServer</para></listitem>
<listitem><para>Property-Dialog in FormEditor was new programmed.</para></listitem>
<listitem><para> &progname; is developed with XOTclIDE. My own IDE for XOTcl (www.xdobry.de/xotclIDE)
it means &progname; has new internal structure.</para></listitem>
</itemizedlist>
<bridgehead>Version 0.30</bridgehead>
<itemizedlist>
<listitem><para>Supports sqlite database</para></listitem>
<listitem><para>Deployed also as starkit for Windows and Linux. No further requirements for installation.</para></listitem>
<listitem><para>context sensitive menus activation</para></listitem>
</itemizedlist>
<bridgehead>Version 0.40</bridgehead>
<itemizedlist>
<listitem><para>Supports MS SQL-Server, MS Access and Oracle</para></listitem>
<listitem><para>SchemaEditor can create and modify DB-Schema</para></listitem>
<listitem><para>&progname can migrate data and schema between all supported databases</para></listitem>
<listitem><para>For internationalisation tcl package msgcat is used</para></listitem>
<listitem><para>imporved documatation</para></listitem>
<listitem><para>many bug fixes</para></listitem>
<listitem><para>tclx is not more used</para></listitem>
</itemizedlist>
</sect1>
</chapter>
<chapter lang="en" id="handbuch"><title>User manual</title>
<sect1>
<title>
System components</title>
<para>
<mediaobject><imageobject><imagedata fileref="system_komponenten.png" scale="50" ></imageobject></mediaobject>
Das system consists 3 executable programs <command>SchemaEditor</command>, <command>FormEditor</command> and <command>FormServer</command>.
There are only one starkit package but at the start of &progname; you must choose which module do you want to start.
The interfaces between these separate programs are to 2 XML-documents types; the Repository (standard file-extension <emphasis>.xmldbschema</emphasis>) and form-description (standard file-extension <emphasis>.xmlforms</emphasis>).
The treatment of both XML-documents is taken over from corresponding programs, however, can take place also manually in an editor.
You can find the fitting DTDs (Document Type Description) in catalog<filename>dtd</filename>.
</para>
</sect1>

<sect1><title>SchemaEditor</title>
<para>
The major task of the schema-editor is to create a XML-Repository and to manage it.
A user of the schema-editor is assumed as a databases-administrator.
The user has knowledge about the structure of the data and its representation in the relational model.
The <command>SchemaEditor</command> possesses the following functional characters:<orderedlist>
<listitem>
<para>
To convert Data Dictionary of a relational databases to a XML-Repository.
</para>
</listitem>
<listitem>
<para>
Add semantic information to the Repository.
 By using the reverse engineering colleges, which can run either completely automatically or by questioning the user.
 The user can also add the semantic information separately.
</para>
</listitem>
<listitem><para>Add and editing the Meta-information of the attributes.</para></listitem>
<listitem><para>Create and drop of tables</para></listitem>
<listitem><para>Create and drop of table rows</para></listitem>
<listitem><para>Create database from XML-schema</para></listitem>
<listitem><para>Create XML and SQL database dumps</para></listitem>
<listitem><para>Import and export schema between all supported databases</para></listitem>
<listitem><para>Migrate data and schema between all supported databases </para></listitem>
</orderedlist>

<important>
<para>
In the opposite to other DB-manager SchemaEditor does not work directly on data base schema. 
The data base schema is picked out and converted into own data structure (Repository), which can be stored also as XML file (xmlschema) and loaded again.
This structure is not data base system specific.
In this way the editing of DB-repository without db-connection is possible.
SchemaEditor can produce Data Definition SQL for each data base system supported by &progname;
Also the changes of the db-schema can be generated as DDL-Sql statement.
</para>
</important>

The idea of the GUI is based on the representation of the schema as a tree structure which can be manipulated by the user.
This tree structure has the following edges types.
<figure id="figure">
<title>
</title>
<mediaobject><imageobject><imagedata fileref="schema_edit_baum.png" scale="50" ></imageobject></mediaobject>
</figure>
<orderedlist>
<listitem>
<para>
Table</para>
</listitem>
<listitem>
<para>
Attribute</para>
</listitem>
<listitem>
<para>
Associationcontainer</para>
</listitem>
<listitem>
<para>
Assoziationtarget</para>
</listitem>
<listitem>
<para>
Tables-Label</para>
</listitem>
<listitem>
<para>
Attribute-groups (structured attributes)</para>
</listitem>
</orderedlist>
</para>
<sect2>
<title>
Reverse engineering</title>
<para>
The relational model is strong value oriented.
It knows no association (relationship) types.
The association are represented as a foreign key.
The tables can represent an Entities (Objects), relations-ship, partial objects (by subtypes modeling) or properties (e.g. , lists of the attributes).
With reverse engineering the semantic meaning, also the information how the relational model is to be interpreted, are achieved.
This information is coded only as the names of the attributes.
Neither MySql nor Postgresql support the definition of foreign-keys.
This is big disadvantage by the production of the forms.
The reverse-engineering algorithms are based only on the relational schema, the data content is not evaluated.
It were implemented three reverse-engineerings algorithms.
The foreign-key-search is a basis for other algorithms (out of the subtype-search).
<variablelist>
<varlistentry>
<term>
Foreign key-search</term>
<listitem>
<para>
Find all attributes with the same name as the primary keys of the other tables, however, the Prim-attributes are not Prim-attribute or are not a single Prim-attribute.
Limitation: object tables consist only single prim-attribute.
No Recursive relations! Action: a simple reference is constructed.
Association-container gets the foreign key.
Association-Target gets the primary key.
It is a basis for the other algorithms.
</para>
</listitem>
</varlistentry>
<varlistentry>
<term>
Subtype-search</term>
<listitem>
<para>
Search for the subtype.
Find all tables having one primary keys of the same name.
They(you) must determine the father's table themselves.
With Multi-level inheritance (grandson's objects' the action must be executed repeatedly.
Limitation: object tables consist only single prim-attribute.
</para>
</listitem>
</varlistentry>
<varlistentry>
<term>
Find association-tables</term>
<listitem>
<para>
These reverse engineering technology is based on the step "foreign-key-search".
The tables should be determined which model Relationship (e.g., n:m Relationship).
Algorithm: Find all tables whose primary key exists(consists) of several foreign keys or several foreign keys and no unambiguous primary key have.
Action: the Relationship-tables are particularly drawn.
N:m or n:m:z.
Relations are recognized.
Relations may have own Attributes.
</para>
</listitem>
</varlistentry>
<varlistentry>
<term>
Suggest Aggregation</term>
<listitem>
<para>
These reverse engineering technology is based on the step "foreign-key-search".
Suggest the Aggregation (composition) of the tables (Embedded tables).
The algorithm shows only the suggestions, the Aggregation-semantics can be determined only by used.
Suggestions: 1.
All tables only a foreign key have.
It can exist still farther Aggregation.
If they check 1:n associations</para>
</listitem>
</varlistentry>
</variablelist>
</para>
</sect2>
<sect2>
<title>
Define abstractions</title>
<para>
Three sorts can be defined by abstractions of the conceptual databases modeling: association, Aggregation (composition) specialization (subtypes).
The definition takes place gradually with the help of assistants.
<variablelist>
<varlistentry>
<term>
Association</term>
<listitem>
<para>
Is the most difficult to define.
It corresponds to the Relationship of the ER-model.
It are placed the following questions.
<itemizedlist>
<listitem><para>
Is the association recursive? There are relations (Relationship) between the objects of the same type.
</para></listitem>
<listitem><para>
Is there a table with references?
If the association with help had to be illustrated by additional tables what is relations always the case with the N:M, or how with 1:N relations there is only a reference in one of the table</para></listitem>
<listitem><para>
Degree of the Relationship: with the N:M it is 2 with the N:M:O it is 3</para></listitem>
<listitem><para>
Rolle-names: (not obligatorily)</para></listitem>
<listitem><para>
Existence dependence: Do not become till present farther supported, however, can be defined here</para></listitem>
</itemizedlist>
For the n:m relationship must become clear: which objects (tables) participate in the relationship and which table contains the references?
</para>
<para>
An association is understood as container (collection) with references to objects.
The collection can be modeled either as a separated table with references or as a reference in an object (1:n).
Around an association become to model two new edeg-types added:<emphasis>Assozitaioncontainer</emphasis>
With references and <emphasis>Assoziationtarget</emphasis>
With objects.
An association container and at least two Assoziatontargets belongs to every association (relationship).
The associations (association container) possesses an unambiguous name.
In this way can also be modeled complex association such as recursive 1:n and n:m relations and relations the higher Granularity n:m:s:r.
Correspondence in ER-model<xref linkend="er-assoziation">
</para>
</listitem>
</varlistentry>
<varlistentry>
<term>
Aggregation</term>
<listitem>
<para>
Here it is about the possibly modeling of nested tables.
They are shown as embedded (nested) forms  from <command>FormServer</command>.
One must specify: the container-table, which element-table and reference, foreign key in the element table which points at primary key in container-table.
Correspondence in ER-model<xref linkend="er-aggregation">
</para>
</listitem>
</varlistentry>
<varlistentry>
<term>
Subtypes (inclusion dependency)</term>
<listitem>
<para>
Also known as inheritance or generalization.
There is always a father object and a child object which are modeled in two tables (primary key heritage).
One must also give the inherited primary key.
Correspondence in ER-model <xref linkend="er-generalisierung">.
</para>
</listitem>
</varlistentry>
</variablelist>
</para>
</sect2>


<sect2><title>DB-Schema create and modify</title>
<para>
&progname; can be used for modellung  data base schema.
Tables and columns can be created, modified and deleted.
&progname;  does not work directly Dictionary (schema) but has own data base system independent representation of the schema, which can be put down as XML file.
It is possible to develop schema without connection data base and install many databases from one XML-repository.
The &progname; schema is based on ER-diagram and contains more semantic information than the Data-dictionary of data base.
</para> 
<sect3>
<title>Creating new schema</title>
<para>
For that data base connection is not necessary.
By the menu
<menuchoice>
    <guimenu>Schema</guimenu>
    <guimenuitem>New</guimenuitem>
</menuchoice>
new data base schema is created.
Use context sensitive menus (select a leaf and right mouse button click) can be used to creat tables and columns.
</para>
<para>&progname;  own has data types system, in addition, which is set on Mysql data base system but supports other types (like Money or Boolean).
<table>
<title>supported DB-Types and type conversion</title>
<tgroup cols='6' align='left' colsep='1' rowsep='1'>
<thead>
<row>
 <entry>Xdobry</entry>
  <entry>Mysql</entry>
  <entry>MS Access</entry>
  <entry>MS SQL</entry>
  <entry>Postgres</entry>
  <entry>Oracle</entry>
</row>
</thead>
<tbody>
<row>
  <entry>decimal</entry>
  <entry>Decimal, numeric</entry>
  <entry>Currency, money</entry>
  <entry>monay</entry>
  <entry>money</entry>
  <entry>number</entry>
</row>
<row>
  <entry>double</entry>
  <entry>double </entry>
  <entry>float</entry>
  <entry>float</entry>
  <entry>double</entry>
  <entry>double</entry>
</row>
<row>
  <entry>float</entry>
  <entry>float </entry>
  <entry>real</entry>
  <entry>real</entry>
  <entry>real</entry>
  <entry>float</entry>
</row>
<row>
  <entry>int</entry>
  <entry>int</entry>
  <entry>Integer, int</entry>
  <entry>int</entry>
  <entry>Integer, int</entry>
  <entry>int</entry>
</row>
<row>
  <entry>smallint</entry>
  <entry>Smallint, tinyint</entry>
  <entry>smallint</entry>
  <entry>smallint</entry>
  <entry>smallint</entry>
  <entry>smallint</entry>
</row>
<row>
  <entry>Boolean </entry>
  <entry>smallint</entry>
  <entry>boolean</entry>
  <entry>boolean</entry>
  <entry>Boolean, bool</entry>
  <entry>Number(1)</entry>
</row>
<row>
  <entry>text</entry>
  <entry>Text, mediumtext, tinytext</entry>
  <entry>Memo, LONGTEXT, LONGCHAR, MEMO, NOTE, NTEXT </entry>
  <entry>image</entry>
  <entry>text</entry>
  <entry>clob</entry>
</row>
<row>
  <entry>datetime</entry>
  <entry>Datetime, date, time </entry>
  <entry>datetime</entry>
  <entry>timestamp</entry>
  <entry>timestamp</entry>
  <entry>timestamp</entry>
</row>
<row>
  <entry>timestamp</entry>
  <entry>timestamp </entry>
  <entry>datetime</entry>
  <entry>datetime</entry>
  <entry>timestamp</entry>
  <entry>timestamp</entry>
</row>
<row>
  <entry>enum</entry>
  <entry>enum </entry>
  <entry>Varchar(50)</entry>
  <entry>Varchar(50)</entry>
  <entry>Varchar(50)</entry>
  <entry>Varchar(50)</entry>
</row>
<row>
  <entry>set</entry>
  <entry>set </entry>
  <entry>Varchar(50)</entry>
  <entry>Varchar(50)</entry>
  <entry>Varchar(50)</entry>
  <entry>Varchar(50)</entry>
</row>
<row>
  <entry>varchar</entry>
  <entry>varchar </entry>
  <entry>TEXT(n), ALPHANUMERIC, CHARACTER, STRING, VARCHAR, CHARACTER VARYING, NCHAR, NATIONAL CHARACTER, NATIONAL CHAR, NATIONAL CHARACTER VARYING, NATIONAL CHAR VARYING </entry>
  <entry>varchar</entry>
  <entry>text</entry>
  <entry>varchar2</entry>
</row>
<row>
  <entry>char</entry>
  <entry>char </entry>
  <entry>char</entry>
  <entry>char</entry>
  <entry>char</entry>
  <entry>char</entry>
</row>
<row>
  <entry>longblob</entry>
  <entry>Longblob, mediumblob, tinyblob</entry>
  <entry>IMAGE, LONGBINARY, GENERAL, OLEOBJECT, BINARY</entry>
  <entry>image</entry>
  <entry>bytea</entry>
  <entry>blob</entry>
</row>
</tbody>
</tgroup>
</table>

<table>
<title>autoincrement rows</title>
<tgroup cols='2' align='left' colsep='1' rowsep='1'>
<thead>
<row>
  <entry>Database</entry>
  <entry>Kind</entry>
</row>
</thead>
<tbody>
<row>
  <entry>MS Acces</entry>
  <entry>Typ Counter</entry>
</row>
<row>
  <entry>MS SQL</entry>
  <entry>Indent(1,1)</entry>
</row>
<row>
  <entry>mysql</entry>
  <entry>autoincrement</entry>
</row>
<row>
  <entry>Postgres</entry>
  <entry>Sequencer</entry>
</row>
<row>
  <entry>Oracle</entry>
  <entry>Sequencer</entry>
</row>
<row>
  <entry>Sqlite</entry>
  <entry>Not supported</entry>
</row>
</tbody>
</tgroup>
</table>

&progname can also create autoincrement rows or sequencer.
<table>
<title>Autoincrement Spalten</title>
<tgroup cols='2' align='left' colsep='1' rowsep='1'>
<thead>
<row>
  <entry>Database</entry>
  <entry>Typ</entry>
</row>
</thead>
<tbody>
<row>
  <entry>MS Acces</entry>
  <entry>Typ Counter</entry>
</row>
<row>
  <entry>MS SQL</entry>
  <entry>Indent(1,1)</entry>
</row>
<row>
  <entry>mysql</entry>
  <entry>autoincrement</entry>
</row>
<row>
  <entry>Postgres</entry>
  <entry>Sequencer</entry>
</row>
<row>
  <entry>Oracle</entry>
  <entry>Sequencer</entry>
</row>
<row>
  <entry>Sqlite</entry>
  <entry>Not supported</entry>
</row>
</tbody>
</tgroup>
</table>
MS database can with  [] maksing create tables with space.
This would by converted to _.
<table>
<title>Leerstelle in Tabellennamen</title>
<tgroup cols='2' align='left' colsep='1' rowsep='1'>
<thead>
<row>
  <entry>Datenbank</entry>
  <entry>Tabellenname</entry>
</row>
</thead>
<tbody>
<row>
  <entry>MS Access</entry>
  <entry>[Order Details]</entry>
</row>
<row>
  <entry>MS SQL</entry>
  <entry>[Order Details]</entry>
</row><row>
  <entry>mysql</entry>
  <entry>Order_Details</entry>
</row><row>
  <entry>postgres</entry>
  <entry>Order_Details</entry>
</row><row>
  <entry>Sqlite</entry>
  <entry>[Order Details]</entry>
</row><row>
  <entry>Oracle</entry>
  <entry>Order_Details</entry>
</row>
</tbody>
</tgroup>
</table>

</para>
<para>
For create Schema on specific data base use menu
<menuchoice>
<guimenu>Schema</guimenu>
<guisubmenu>Operations on Schema</guisubmenu>
<guimenuitem>Create DB from Schema</guimenuitem>
</menuchoice>.
By the menu
<menuchoice>
<guimenu>Schema</guimenu>
<guisubmenu>Operations on schema</guisubmenu>
<guimenuitem>Show SQL definition for schema</guimenuitem>
</menuchoice> 
can you Create sql for the specific data base product.
This SQL can be supplemented by data base-specific procedures, that &progname; does  not support.
The in such a way adapted SQL must be up-played with data base-own tools.
</para>
</sect3>
<sect3>
<title>Data base schema modifing</title> 
<para>
If you want to change the data base already existing, you must first create &progname;  representation of schema.
Use for it the menu
<menuchoice>
<guimenu>Schema</guimenu>
<guisubmenu>New from DB</guisubmenu> 
</menuchoice>.
They must specify then the data base connection.
The changes on that schema are transferred not immediately to the data base.
By the menu
<menuchoice>
<guimenu>Schema</guimenu>
<guisubmenu>Schema operations</guisubmenu>
<guimenuitem>Apply Schema changes to DB</guimenuitem>
</menuchoice> 
the change on the data base are applied.
By the menu 
<menuchoice>
<guimenu>Schema</guimenu>
<guisubmenu>Schema operations</guisubmenu>
<guimenuitem>Show schema changes</guimenuitem>
</menuchoice>
can you the see the corresponding DDL-SQL statments.
<tip>
<para>
This SQL-Statments can be used to update many database synchron (development, Integration, production).
</para> 
</tip> 
</para> 
<para> 
If the &progname; XML schema already exist load it first.
SchemaEditor offers by loading XML-Schema automatically to connect source database.
If another connection is desired or the schema was not developed from a data base, you can connect database with
<menuchoice>
<guimenu>Schema</guimenu>  
<guisubmenu>Connect with data base</guisubmenu>
</menuchoice>
In the case that schema of the data base is not consistently with that is schema of &progname;
e.g. the schema of the data base reworked on with other tools, you can with the function
<menuchoice>
<guimenu>Schema</guimenu>
<guisubmenu>Operations on schema</guisubmenu>
<guimenuitem>Synchronize schema with data base</guimenuitem> 
</menuchoice>
synchronize XML-repository with data base schema.
Afterwords the schema can being adapted like accustomed.
<important>
<para>One cannot record the changes to schema between into several meetings.
So the changes on the data base must be up-played, so that you are not lost through terminating the meeting.
Schema editor does not possess a function for synchronizing that data base schema to &progname;  Schema.
</para>
</important>
</para>
</sect3>
</sect2>
<sect2>
<title>SchemaEditor and data migrate</title>
<para>
Schema editor possesses various possibilities to migrate the schema and the data between different data base system.
Schema editor can keep at the same time 2 data base connections open and transport sentence by sentence the data from data base another.
The range of the data too migrated can be adapted.
Both tables can be excluded or also individual columns from the migration.
</para>
<para>
Accomplish the migration 
<orderedlist>
<listitem><para>Schema from the source data bank produce.
 The connection with source data bank must be present</para></listitem>
<listitem><para>The tables or columns, which are not to be migrated, are to be removed from that schema (you are not actually deleted in source data bank)</para></listitem>
<listitem><para>The migration start by menu
<menuchoice>
<guimenu>Schema</guimenu>
<guisubmenu>Migration</guisubmenu>
<guimenuitem>Migrate to data base</guimenuitem>
</menuchoice>
</para></listitem> 
<listitem>
<para>
Arise during the migration errors.
These are indicated.
The migration can be broken off or continued in this case.
In the case of abort the target data bank is not deleted
</para>
</listitem>
</orderedlist>
</para> 
</sect2>
<sect2>
<title>SchemaEditor and data exporting and importing</title>
<para>
Schema editor knows the data on 2 points to export.
As XML dump
<menuchoice>
<guimenu>Schema</guimenu>
<guisubmenu>Migration</guisubmenu>
<guimenuitem>Database to XML-SQL</guimenuitem>
</menuchoice>
the SQL dump
<menuchoice>
<guimenu>Schema</guimenu>
<guisubmenu>Migration</guisubmenu>
<guimenuitem>Database to XML-Dump</guimenuitem>
</menuchoice>.
 For SQL dump the type of target data bank must be indicated.
<important>
<para>
The export or import of XML-dump is suitable only for smaller data bases.
At now with XML-dumpe into the main memory the entire data base is illustrated at short notice (DOM-object).
In this way the &progname; can  with larger data sets fast overflow.
An iterative production of XML is possible and becomes for the next version of &progname;  planned.
The SQL-dump is provided iterative and causes no excessive demand of main memory.
</para>
</important>
</para>
<para>
With the function
<menuchoice>
<guimenu>Schema</guimenu>
<guisubmenu>Migration</guisubmenu>
<guimenuitem>XML dump to SQL convert</guimenuitem>
</menuchoice>
one can convert a XML departure to SQL departure.
</para>
</sect2>
</sect1>

<sect1><title>FormEditor</title>
<para>
The purpose of the component is to generate a collection of the forms to a databases and secondly an user's interface for the adaptation of these forms.
The product of the form-editor is a description of the forms as a XML-document.
Associations (Relationship) and other abstractions are supported in the forms directly.
The user of the form-editor (application-developer) must not know the schema of the data.
His task is only to adapt the automatically produced forms under the formative face point or to specify the input fields of the form.
</para>
<para>
A form becomes as a collection of different input fields, their placement, and their correspondence to objects in the databases (rows in a table).
The following types of the input fields were realized:<simplelist>
<member>Frames. Frames for the placement of the elements</member>
<member>Simple text fields (one-line)</member>
<member>Input fields for whole numbers with control arrows</member>
<member>Listsbox</member>
<member>Radiobuttons</member>
<member>Checkbox fields (Yes / No  switches)</member>
<member>Text fields consisting of several lines</member>
<member>Multicolumn Listboxes for the representation of the foreign key (references)</member>
<member>FormLinks</member>
<member>Object for the nesting forms</member>
</simplelist>
The embedded forms and the formlinks belong to special elements of the forms.
Both are a different visualization of the relationship.
The FormLinks appearing along corresponding paths (association or also Aggregation).
Besides, one can reach from a form a form of the object which has a foreign key on the first form.
Besides, the foreign key is faded out with the tied up form (the value is determined by the first form) and the files are filtered after the foreign key.
It are shown by the filtering only the objects which are in touch with the shown object in the first form.
With embedded forms the tied up form is a part of the parent's form.
With form-links a command button is inserted, only to open of the tied up form serves.
The foreign keys are not treated as normal attributes but are represented as special diagrammatic elements.
First the domain of the foreign key is limited by integrity conditions on the amount of primary key values in the corresponding table.
This can be represented by a list-box.
Then the user knows that he has only a certain number of possibilities at which he can look and select.
Secondly the values of the key are often statement-empty for the user or unsuitably for the identification of the object.
For it the user expects other attributes (e.g. name and first name besides of the PersonalIDs).
The Aggregation can be realized as the embedded forms.
The association is realized as form-links.
The specialization can also be realized as a linkage by forms.
Besides, a form is applied for a parent's object (high type) and one form for the children's object (under type).
</para>

<sect2><title>GUI-Editor for forms</title>
<para>
An GUI-Editor is opened by the double click on a form in main window.
With it the appearance of the form and the linkages to table-columns in the database can be specified.
<figure id="guieditor"><title>GUI Editor</title>
<mediaobject><imageobject><imagedata fileref="guieditor.png" scale="50" ></imageobject></mediaobject>
</figure>
The Properties of the elements are slitted to three types<variablelist>
<varlistentry>
<term>Widget</term>
<listitem><para>The Properties, which belong to GUI-object such length, width (visual appearance).
</para>
</listitem>
</varlistentry>
<varlistentry><term>Data</term><listitem>
<para>Linkage with tables-column.
Default value and not-null</para>
</listitem>
</varlistentry>
<varlistentry><term>Packer</term><listitem>
<para>Information to placement of the element</para>
</listitem>
</varlistentry>
</variablelist>
The placement of the elements is not indicated definitely (with coordinates), however, under use by Geometry-manager.

Most standards-Widget are displayed like they are (WYSIWYG).
The other special Widget like (Nested Form, form link, SQLReference) are indicated with editor GUI by the representatives.
Their size does not correspond to the reality (caution with the NestedForm).
If one wants to see the real appearance of the forms, one must use <command>FormServer</command>, the DB-connection is not necessary for such purposes.
</para>

<sect3><title>Drag and Drop in FormEditor</title>
<para>
The GUI-Editor is slitted in 3 area.
<simplelist>
<member>Widget set</member>
<member>Workbench with your edited form</member>
<member>scratch depository</member>
</simplelist>
The 3 drag &amp; drop operations are shown in <xref linkend="draganddrop"> .
The Drag &amp; Drop is signalized by special mouse-pointer-icon.
The object will be not really moved.
All catted objects are moved to depository.
The depository can contain many objects
<tip>
<para>
By inserting new widget, choose one widget in widget-set (the background is displayed colored) window and drop it on workbench.
</para>
</tip>
<figure id="draganddrop"><title>Drag and Drop operations</title>
<mediaobject><imageobject><imagedata fileref="draganddrop_en.png" scale="50" ></imageobject></mediaobject>
</figure>
</para>
<bridgehead>work with Pack-Frame</bridgehead>
<para>
The elements are places in Frames  (also nested).
The order of the elements in a frame is crucial.
The pack-geometry-manager takes one after another the elements and places them(her) in the frame the remaining place it is applied for the next elements.
The following qualities specify the placement:
<simplelist>
<member>
Side - in which page(side) of the frames the object should be added</member>
<member>
Anchor - anchor to which page side</member>
<member>
Fill
</member>
<member>
Expand - the object should be adapted by change of the window size</member>
</simplelist>
<tip>
<para>
One can see the current pack options in the status bar, after pointing the Widgets with mouse's pointer.
</para>
</tip>
The position of new drooped object is computed related to the object you have target.
When no object are targeted, the widget will be added at last pack position with standard option (-side top -anchor center -fill none -expand 0).
The exact position can be specify by target the object, which is already in the frame.

<figure id="droppack"><title>Positioning in  Pack-Frame (schematic)</title>
<mediaobject><imageobject><imagedata fileref="droppack.png" scale="50" ></imageobject></mediaobject>
</figure>
<xref linkend="droppack"> show an example of Pack-Geometry-Manager composition.
The are a part of Tk pack manual.
</para>
<para>
For each master the packer maintains an ordered list of slaves called the packing list. The -in, -after, and -before configuration
options are used to specify the master for each slave and the slave's position in the packing list. If none of these options is given for
a slave then the slave is added to the end of the packing list for its parent. 

The packer arranges the slaves for a master by scanning the packing list in order. At the time it processes each slave, a rectangular
area within the master is still unallocated. This area is called the cavity; for the first slave it is the entire area of the master. 

For each slave the packer carries out the following steps: 
<orderedlist>
<listitem><para>
     The packer allocates a rectangular parcel for the slave along the side of the cavity given by the slave's -side option. If the side
     is top or bottom then the width of the parcel is the width of the cavity and its height is the requested height of the slave plus
     the -ipady and -pady options. For the left or right side the height of the parcel is the height of the cavity and the width is the
     requested width of the slave plus the -ipadx and -padx options. The parcel may be enlarged further because of the -expand
     option (see ``EXPANSION'' below) 
</para></listitem>
<listitem><para>
     The packer chooses the dimensions of the slave. The width will normally be the slave's requested width plus twice its -ipadx
     option and the height will normally be the slave's requested height plus twice its -ipady option. However, if the -fill option is
     x or both then the width of the slave is expanded to fill the width of the parcel, minus twice the -padx option. If the -fill
     option is y or both then the height of the slave is expanded to fill the width of the parcel, minus twice the -pady option. 
</para></listitem>
<listitem><para>
     The packer positions the slave over its parcel. If the slave is smaller than the parcel then the -anchor option determines
     where in the parcel the slave will be placed. If -padx or -pady is non-zero, then the given amount of external padding will
     always be left between the slave and the edges of the parcel. 
</para></listitem>
</orderedlist>
Once a given slave has been packed, the area of its parcel is subtracted from the cavity, leaving a smaller rectangular cavity for the
next slave. If a slave doesn't use all of its parcel, the unused space in the parcel will not be used by subsequent slaves. If the cavity
should become too small to meet the needs of a slave then the slave will be given whatever space is left in the cavity. If the cavity
shrinks to zero size, then all remaining slaves on the packing list will be unmapped from the screen until the master window
becomes large enough to hold them again. 
</para>

<bridgehead>working with Grid-Frame</bridgehead>
<para>
The row and column are computed dynamic.
<figure id="dropgrid"><title>Grid-Frame</title>
<mediaobject><imageobject><imagedata fileref="dropgrid.png" scale="50" ></imageobject></mediaobject>
</figure>
<xref linkend="dropgrid"> show one Grid-Frame.
The cells A2,B2,B3,C1,C3 are occupied.
By dropping in the free cell this cell will be used for placement.
If you target one occupied cell one row or column will be added.
See Example.
If you target on cell B2, area d one row above the cell will be added.
</para>
<para>
The another grid option as sticky or rowspan can be edited by widget-propries dialog.
</para>
</sect3>
</sect2>
</sect1>

<sect1><title>FormServer</title>
<para>
It is a program with which the real end user of the databases has to do.
This program can evaluate the form descriptions which come from form-editor, display the forms and connect to database.
This program must give a receipt for the manipulations on the forms correctly in in the instructions SQL to the databases.
Following functions are supported:
<itemizedlist>
<listitem><para>Data View</para></listitem>
<listitem><para>Data modifying (update)</para></listitem>
<listitem><para>Data create</para></listitem>
<listitem><para>filter or search Data</para></listitem>
<listitem><para>order, sort Data</para></listitem>
<listitem><para>(new feature) data navigating (Browsing)</para></listitem>
</itemizedlist>
By the form-links a navigation is also possible by data contents along the linkage paths (relationship-path).
The user can navigate like in hypertext-documents and reach every information.
The user must not know the schema to work with FormServer.
</para>
<para>
The forms themselves support directly higher abstraction concepts like association, Aggregation and specialization.
The knowledge about the concepts of the relational modeling like foreign key and primary key must not exist by user.
<mediaobject><imageobject><imagedata fileref="formserver.png" scale="50" ></imageobject></mediaobject>
</para>
<sect2 id="formularLinks"><title>Browsing Database with forms</title>
<para>
With Form-Links you can brows the database like hypertext-documents.
<figure id="studentPruefenEr"><title>Association der Kardinalität 3 mit einem Attribut</title>
<mediaobject><imageobject><imagedata fileref="student_pruefen_er.png" scale="50" ></imageobject></mediaobject>
</figure>
Consider following association <xref linkend="studentPruefenEr">.
There are three objects (Student, Vorlesung (eng. lesson), Professor) in the relationship Prüfung (eng. exam).
The result tables structure.
<screen>
Professor     {PersNr,Rang,Raum}
Student       {MatrNr,Name,Semester}
Vorlesung     {VorlesungNr,Titel,SWS,PersNr}
pruefen       {MatrNr},VorlesungNr,PersNr,Note}
</screen>
With form-links man can brows or navigate throw Database Information.
From Student form you can reach per one click the information which exams he must do.
</para>
<para>
The Problem: Association has reacher semantic the hyper-links.
The Association is transitive. 
Hyper-Links are only one-way references.
The association can have more then 2 object (the degree of association can be greater than 2).
One object can be associated with more than one another objects.
<figure id="formNavigation"><title>navigate (browse) with forms-links</title>
<mediaobject><imageobject><imagedata fileref="form_navigation.png" scale="50" ></imageobject></mediaobject>
</figure>
<xref linkend="formNavigation"> shows all form-links types, they correspond to Relationship-Types from Er-model.
<variablelist>
<varlistentry><term>1:N</term>
<listitem>
<para>
The Association is displayed as choose-list.
This is exactly the same as foreign-keys attributes.
You can trigger the link by double-click on the reference-list title.
</para>
</listitem>
</varlistentry> 
<varlistentry><term>N:1</term>
<listitem>
<para>
The Association is displayed as action-button.
This is just another site of 1:N relationship.
</para>
</listitem>
</varlistentry> 
<varlistentry><term>N:N oder N:M:O:...</term>
<listitem>
<para>
The Association is displayed as menu-button.
This is just another site of 1:N relationship.
The first menu-item is an N:1 Relationship and it link to the relationship-table. 
The next item links to objects.
</para>
</listitem>
</varlistentry> 
</variablelist>
After open the linking form, the linking are conserved.
This mean, the form are chained.
</para>
</sect2>
<sect2><title>user macros in form</title>
<para>
There are simple API to extend the form-server with user-procedures (macros).
The FormServer is implemented in Tcl and it allow very ease to dynamic change
of program-code.
</para>
<para>
The macros are loaded as Tcl-scripts and they become a part of FormServer.
The are some simply designed API to control some main function of
program.
You can change the behavior of some form like (delete checking, update checking ...).
The idea; you create new XOTcl class derived from FormEngine class and you
overwrite some empty methods.
This are empty macros for myform form.
</para>
<screen> 
Class myform -superclass FormEngine
myform instproc update_check klvalues_ref {
    return 1
}
myform instproc delete_check {} {
    return 1
}
myform instproc insert_check klvalues_ref {
    return 1
}
myform instproc after_delete {} {
}
myform instproc reload_form {} {
}
myform instproc position_check {pos} {
    return 1
}
FormEngine instproc filling_form klvalues_ref {
}
</screen>
<para>
See the example <emphasis>accountancy</emphasis> how to write your macros.
The are such er-schema.
<mediaobject><imageobject><imagedata fileref="accountancy_er.png" scale="50" ></imageobject></mediaobject>
The macros are used to build following functionality.
<itemizedlist>
<listitem><para>A Customer (Klient) can be not deleted if he has order he has not paid.
By deleting customer set all foreign-keys by cust_order table to NULL</para></listitem>
<listitem><para>The macro compute a derivated attribute total price for oder and sum price for oder item</para></listitem>
<listitem><para>Check if the date format is 2000-01-01</para></listitem>
</itemizedlist>
see the file <filename>sample/accountancy.tcl</filename>
how to buid such macros (for example how to buil sql-queries in &progname;).
</para>
</sect2>
</sect1>

<sect1><title>Schema vs.Form appearances</title>
<para>
The system was developed after the motto: the appearance of the forms should correspond to data semantics.
Here the examples how the drafts of the modelling have their(her) influence on the structure of the forms.
The Screen shoots comes all from the Tutorial example.
</para>
<sect2>
<title>
Representation of the foreign keys</title>
<para>
<mediaobject><imageobject><imagedata fileref="foreignkeys.png" scale="50" ></imageobject></mediaobject>
The foreign keys attributes are represented as multi-column-listboxes.
Here one can see on the first place the value of the primary key and an additional attribute (name) which has the role of the object-labels.
</para>
</sect2>
<sect2>
<title>
Association (form-link)</title>
<para>
<mediaobject><imageobject><imagedata fileref="FormularLinks.png" scale="50" ></imageobject></mediaobject>
<figure id="er-assoziation">
<title>
Association in ER-model</title>
<mediaobject><imageobject><imagedata fileref="er_assoziation.png" scale="50" ></imageobject></mediaobject>
</figure>
The form-links function possibly like instruction: Open the form with all objects which are tied together with this object (a foreign key on it have).
They are opposed to foreign key references</para>
</sect2>
<sect2>
<title>
Specialization (inheritance)</title>
<para>
<mediaobject><imageobject><imagedata fileref="FormularVererbung.png" scale="50" ></imageobject></mediaobject>
<figure id="er-generalisierung">
<title>
Generalization in ER-model</title>
<mediaobject><imageobject><imagedata fileref="er_generalisierung.png" scale="50" ></imageobject></mediaobject>
</figure>
The specialization forms (children's forms' are embedded in a notebook Widget of the parents-Form.
</para>
</sect2>
<sect2>
<title>
Aggregation</title>
<para>
<mediaobject><imageobject><imagedata fileref="EigebetettesFormular.png" scale="50" ></imageobject></mediaobject>
<figure id="er-aggregation">
<title>
Aggregation in ER-model</title>
<mediaobject><imageobject><imagedata fileref="er_aggregation.png" scale="50" ></imageobject></mediaobject>
</figure>
Aggregation functions as embedded forms, besides, foreign keys are used as a linkage paths; unnoticed from the used.
</para>
</sect2>
</sect1>
<sect1>
<title>
Missing functionality be &progname;</title>
<para>
I also want to name the possible tarps and pitfalls with the use of the the program.
<itemizedlist>
<listitem>
<para>
With the Aggregation, Subtypes and foreign-key only one-attribute-primary-key per object are supported.
An object is identified only by one attribute.
</para>
</listitem>
<listitem>
<para>
With empty tables the insertion of the first Tuples is possible only with the command buttons save (diskettes-icon).
</para>
</listitem>
<listitem>
<para>
The data in a form are sent only after the change the Tipple-position (with navigation buttons) or by the command button save.
</para>
</listitem>
<listitem>
<para>
There are problems with operations (Delete, Change, Create), they become only a visible after the action reload.
The condition that the data will not could be current by the red-colored command button reload indicated.
</para>
</listitem>
<listitem>
<para>
The number of open SQL-connections is limited system-specifically.
</para>
</listitem>
<listitem>
<para>
Only once the Widget (Multi-Column-Listbox) for the announcement of foreign key are initialized while opening the form.
If the condition of the objects should change at which the foreign keys point, it is not indicated.
</para>
</listitem>
<listitem>
<para>
The forms which can be used with Aggregation separately are opened, however, the foreign keys are indicated as a normal Widget.
This can manually in<command>
FormEditor</command>
Are changed, however, it is not shown by form assistants automatic.
</para>
</listitem>
<listitem>
<para>
Form-links functioning if one does not point at the root-form, the foreign key, however, in a children's form is.
See Tutorial (form Professor link on assistant).
Such FormulaLinks need a special treatment which was not programmed yet.
</para>
</listitem>
</itemizedlist>
If you have similar problem or if you have consider to other functional ways, let me about it know.
How the next version will look, depends on you.
</para>
<sect2><title>Program Options</title>
<para>
You can specify some options by starting FormServer.
<cmdsynopsis>
  <command>FormServer</command>
  <arg choice=plain>--</arg>
  <arg>-help</arg>
  <arg>-debug</arg>
  <arg>-viewonly</arg>
  <group>
    <arg>-ignorexmlpar</arg>
    <arg>-noconnectdialog</arg>
    <arg>-connect <replaceable>connectpar</replaceable></arg>
    <arg>-loadmacros <replaceable>macrofile</replaceable></arg>
    <arg>-openform <replaceable>formname</replaceable></arg>
    <arg choice=plain><replaceable>xmlfile</replaceable></arg>
  </group>
</cmdsynopsis>                                                                 

<variablelist>
<varlistentry><term>-debug</term>
<listitem><para>
Activate some menus for debugging: SQL-Monitor, XOtcl class-browser, Tk-Window Browser, interactive mods
</para>
</listitem>
</varlistentry> 
<varlistentry><term>-viewonly</term>
<listitem><para>
The database contens can be only viewed. No delete, modify or insert operation are allowed.
</para>
</listitem>
</varlistentry> 
<varlistentry><term>-ignorexmlpar</term>
<listitem><para>
Ignore all parameters codded in XML file.
</para>
</listitem>
</varlistentry> 
<varlistentry><term>-noconnectdialog</term>
<listitem><para>
Do not show database connect dialog. All parameters for database connection should be specified in XML file or by -connect option.
</para>
</listitem>
</varlistentry> 
<varlistentry><term>-loadmacros</term>
<listitem><para>
load a Tcl-script after initializations.
</para>
</listitem>
</varlistentry> 
<varlistentry><term>-connect</term>
<listitem><para>
Specify database connect parameter.
The parameters are codded as TclX keyed list.
<screen>
-connect "{interface mysql} {user root} {dbank test} {password geheim} {socket /var/lib/mysql/mysql.sock}"
</screen>
</para>
</listitem>
</varlistentry> 
<varlistentry><term>-openform</term>
<listitem><para>
Open a form after initialising.
</para>
</listitem>
</varlistentry> 
</variablelist>
<warning>
<para>
All option must be tipped after --.
</para>
</warning>
Example usage.
<screen>
./FormServer -- -debug -viewonly
 -connect "{interface mysql} {dbank uni} 
           {user root} {socket /var/lib/mysql/mysql.sock}" 
 -noconnectdialog -openform Student uni.xmlforms
</screen>
</para>
</sect2>
</sect1>
</chapter>
<chapter lang="en" id="tutorial">
<title>
Tutorial</title>
<para>
Here it a example of using the system.
A school-book-databases was chosen, so that all qualities of the system can be shown.
The step consequence corresponds possibly to the production by real DB-applications.
First a ER-diagram of the system is constructed and is illustrated in relational schema.
Then this schema is converted with the help of reverse engineering colleges of technology into a XML-Repository.
</para>
<sect1>
<title>
Relational schema</title>
<para>
Accepted a databases-schema with the help of ER-model design.
This schema gets 5 Entities.
Besides, is specialized office workers to assistant and professor.
With appointment it is about a Weak-Entity.
It is here the modeling the Aggregation (better composition) from sets-attribute of the object.
There is also different take from relations.
Examine a connection(affair) the degree 3 with own attribute is a mark(note).
<mediaobject><imageobject><imagedata fileref="uni_er_diagramm.png" scale="50" ></imageobject></mediaobject>
This ER-diagram is converted to a relational schema.
<screen>
Angestellte   {PersNr,Name}
Professor     {PersNr,Rang,Raum}
Assistent     {PersNr,Rang,Raum,Professor}
Student       {MatrNr,Name,Semester}
Vorlesung     {VorlesungNr,Titel,SWS,PersNr}
hoeren        {MatrNr,VorlesungNr}
voraussetzten {VorgaengerNr,NachfolgerNr}
pruefen       {MatrNr},VorlesungNr,PersNr,Note}
Termin        {VorlesungNr,Wochentag,Zeit}
</screen>
File<filename>Unibank.sql</filename> In the directory <filename>sample</filename> of the program contains the SQL-instructions for MySql databases for the creation of the databases.
To put on the databases one must first <database>University</database>
databases create.
<warning>
<para>
The MySql databases have to be installed on your system.
It runs and you have to put on corresponding rights the databases and tables.
</para>
</warning>
<screen>
[User@localhost] mysql mysql 
&gt;CREATE DATABASE university
</screen>
Attach from tables
<screen>
&gt;cat sample/unibank.sql | mysql-u username university</screen>
</para>
</sect1>
<sect1>
<title>
Production of the Repositories</title>
<para>
For the production of the Repositories which represents an extension of the relational schema around semantic information, becomes the program<command>
SchemaEditor</command>
Applies.
The program can select the relational schema by the SQL-connection.
In addition one applies the menu point<menuchoice>
<guimenu>
File</guimenu>
<guimenuitem>
Case schema from DB</guimenuitem>
</menuchoice>
.
In the following dialog the correct data accessibility must be given(indicated).
<mediaobject><imageobject><imagedata fileref="dbconnect.png" scale="50" ></imageobject></mediaobject>
Then other semantic information can be added.
<mediaobject><imageobject><imagedata fileref="schemaeditor.png" scale="50" ></imageobject></mediaobject>
This can happen in three sorts<orderedlist>
<listitem>
<para>
Use of reverse engineering menu<menuchoice>
<guimenu>
Reverse engineering</guimenu>
</menuchoice>
.
</para>
</listitem>
<listitem>
<para>
Add from abstraction concepts by the use of assistants: +Association (possibly foreign key), +Aggregation, +Suptype</para>
</listitem>
<listitem>
<para>
Edit properties of the attributes (schema-elements).
</para>
</listitem>
<listitem>
<para>
Add from other schema-elements such as attribute-group, label.
It happens by use of pop-Up Menu (right mouse button)</para>
</listitem>
</orderedlist>
The complete example of XML-Repository show the file <filename>sample/uni.xmldbschema</filename>.
</para>
</sect1>
<sect1>
<title>
Production of the forms</title>
<para>
The creation of the forms happens with the program<command>
FormEditor</command>
.
First becomes the DB-schema <filename>sample/uni.xmldbschema</filename>
Loaded <menuchoice>
<guimenu>File</guimenu><guimenuitem>DB of schema shop</guimenuitem>
</menuchoice>
.
Automatic creation of DB-forms happens with 
<menuchoice><guimenu>Tools</guimenu><guimenuitem>Form assistant</guimenuitem>
</menuchoice>
.
The created forms can designed with a GUI-editor by command button<guibutton>
Form Edit</guibutton>
.
The finished forms are in <filename>sample/uni.xmlforms</filename>.
</para>
</sect1>
<sect1>
<title>
Use of forms</title>
<para>
The finished forms are stored as XML-files.
The program <command>FormServer</command>
Can represent the forms correctly and communicate with the databases.
Call with argument from program catalog.
<screen>
./FormServer sample/uni.xmlforms
</screen>
</para>
</sect1>
<sect1>
<title>
Other examples</title>
<para>
In the directory <filename>sample</filename> are two other examples too.
<orderedlist>
<listitem>
<para>
An example from publication: Roger H.L.Chiang; Terence M.Barron; Veda C.Storey.
Reverse engineering of relational databases: Extraction of in EER model from a relational database. Data and Knowledge engineering 12. Elsevier. in 1994. Pages 107-142.
Under the name<emphasis>
Bussines</emphasis>
.
It is a databases schema of a hypothetical firm.
There are the following files.
<simplelist>
<member>
<filename>Business-ER.dia</filename>
ER-diagram of the databases in format of a GNOME of program DIA</member>
<member>
<filename>Bussines-er.eps</filename>
ER-diagram as a PostScript file</member>
<member>
<filename>Bussines.sql</filename>
create tables Sql-instructions for mySQL database</member>
<member>
<filename>Bussines.xmldbschema</filename>
Repository of the schema</member>
<member>
<filename>
Bussines.xmlforms</filename>
Forms</member>
</simplelist>
</para>
</listitem>
<listitem>
<para>
An example of a course-databases.
It is offered different course-types.
The realization of a course (entity Kurs) is named offer (with date) (entity Angebot).
The courses are structured hierarchically.
Untertypes A1 A2 A3 belong also to course type A, etc.
.
To every course a predecessor (can be named vice versa(conversely) successor).
Z.
B the participation in the course B sets in front the earlier participation in the course to A (B is deepening A).
<simplelist>
<member>
<filename>Course-er.dia</filename>
ER-diagram of the databases in format of a GNOME of program DIA</member>
<member>
<filename>Course-er.eps</filename>
ER-diagram as a PostScript file</member>
<member>
<filename>Kurs.sql</filename>
create tables Sql-instructions for mySQL database</member>
<member>
<filename>Kurs.xmldbschema</filename>
Repository of the schema</member>
<member>
<filename>Kurs.xmlforms</filename>
Forms</member>
</simplelist>
</para>
</listitem>
</orderedlist>
</para>
</sect1>
</chapter>
<chapter lang="en" id="develop">
<title>
Developer information</title>
<sect1>
<title>
Programming tools</title>
<para>
The whole system was programmed in the computer language TCL (tool Command Language).
Tcl is interpretative and string based computer language and characterizes itself by a simple syntax and a simple extensibility.
These qualities it ideally for glue together of other specialized components (mostly libraries which are written in other languages (C, C ++)).
The language are often used for <emphasis>Rapidly Developments</emphasis> <emphasis>Prototyping</emphasis>
Tcl uses a brilliant, simple syntax.
Although Tcl is a script language, the Tcl-applications are much faster than Java-programs and use very little resources.
The object-oriented implementing was possible by using XOTcl extension.
This makes possible a clear structure of the program.
The following additional components of the TCL were used.
<variablelist>
<varlistentry><term>Tk and Tix</term>
<listitem>
<para>
a library for developing  GUIs (Widget set).</para>
</listitem>
</varlistentry> 
<varlistentry><term>XOTcl</term>
<listitem>
<para>
object-oriented Tcl extension.
</para>
</listitem>
</varlistentry> 
<varlistentry><term>mysqltcl pgtcl ...</term>
<listitem>
<para>
interfaces to specific database systems.
</para>
</listitem>
</varlistentry> 
<varlistentry><term>tDom</term>
<listitem>
<para>
 DOM implementation for Tcl.
</para>
</listitem>
</varlistentry> 
</variablelist>
I also had no ambition to program everything in pure Tcl/Tk if there are so many good libraries.
</para>
</sect1>
<sect1>
<title>
XML</title>
<para>
In the system XML-documents are interfaces between <command>SchemaEditor</command> and <command>FormEditor</command> (class XML dbschema) and farther between <command>FormEditor</command> and <command>FormServer</command> (class XML xmlforms).
The high independence of the components and their interchangeability is thereby guaranteed.
Every component can be replaced with another which can manipulate the corresponding XML-document (can interpret).
It means, they must be enough for the interface which is described as a XML-DTD (DTD-document).
For the user of the system the internal use of the XML-format is invisible.
He can create according to demand the XML-documents also manually or process with the help of other general XML-tools.
</para>
<para>
The descriptions of the separate XML-classes as documents DTD become in files
<filename>dtd/dbschema.dtd</filename>
And <filename>dtd/dbforms.dtd</filename>.
A small script <filename>validate.sh</filename>
If simplifies the use from nsgml Parser which belongs already normally to every LINUX distribution.
</para>
<para>
The system was developed so that these XML-documents can be used by other applications.
</para>
</sect1>

<sect1><title>TODO List</title>
<para>
<orderedlist>
<listitem><para>Interface to other databases.</para></listitem>
<listitem><para>Special Widget for time types, scores, BLOB</para></listitem>
<listitem><para>Support of the BLOB-types which are specified by MIME-types.
Possibly accessibility in KDE or gnome System.
Announcements of picture data.
Exchange with file system</para>
</listitem>
<listitem>
<para>
Form-server supports cascading delete and modifying of primary-keys</para>
</listitem>
<listitem>
<para>
Form-server supports relationship-(min.max) and other integrity-rule</para>
</listitem>
<listitem>
<para>
Direct help to dialogs</para>
</listitem>
<listitem>
<para>
Balloon or tip-texts to Widgets</para>
</listitem>
<listitem>
<para>
Alternative representation of forms as tables or table as parts of the forms.
Use of tkTable Tcl-extension</para>
</listitem>
<listitem>
<para>
Support of tabulator consequences and generally better user friendliness</para>
</listitem>
<listitem>
<para>
Short-cuts (Accelerators)</para>
</listitem>
<listitem>
<para>
Null-value treatment with Widget.
Till present all Widget can not support it well.
</para>
</listitem>
<listitem>
<para>
New more powerful GUI-elements (Widget) and more Options.
</para>
</listitem>
</orderedlist>
I need your feedback.
</para>
</sect1>
<sect1>
<title>Ideas for the future</title>
<para>
First task is to fix all bugs and improve user usability.
The other is to develop really new ideas.
&progname; could serve as a basis for the development of different DB-applications.
With XOTcl development too &progname; can be customized and extended for own needs.

<para>
As the smallest denominator for relational databases standard SQL-92 and mysql was chosen.
Many of the problems were solved in SQL99 standard.
It remains for the moment to wait to the available RDBMS support this standard.
Interesting the implementing of object-relational qualities of the popular databases Postgres could be.
Many of those cover themselves with standard SQL3.
<orderedlist>
<listitem>
<para>Array attributes</para>
</listitem>
<listitem>
<para>Tuple can be identified by OID (Objectidentifier)</para>
</listitem>
<listitem>
<para>Versioning</para>
</listitem>
<listitem>
<para>databases-rule</para>
</listitem>
</orderedlist>
2 interesting projects also exist to the description of the GUI interface as XML-documents.
One comes of it as a by-product of the development of Open Source Netscape (Mozilla).
It is XPToolkit (<ulink url="http://www.mozilla.org/xpfe">http://www.mozilla.org/xpfe</ulink>
), the user's interface can independent of platform as XML-documents (user's interface XUL XMl Language).
Another project comes with the editor for the development of GUIs GLADE<ulink url="http://glade.pn.org/">http://glade.pn.org</ulink>.
It is a part of the GNOME project, free desktop Enivronment for LINUX.
The idea with both projects is that the appearance of the GUI is not party-coded in the program, but is always present as a XML-document.
This could allow a better and flexible configuring of the interface by the used without must to recompile the program.
Both projects are all the more valuable that the complete source are free and can be applied the available components also with foreign projects.
The development of <command>FormEditor</command> and <command>FormServer</command> could profit from it.
</para>
<para>
There also exist other interesting colleges of technology which are connected with XML-standard.
By the Extensible Stylesheet Language (XSL) the transformation can be automated by XML-documents in other XML-classes or other formats.
So one could realize transformation of the Repository in specific SQL-instructions (the type CREATE TABLE) easily.
</para>
<para>
The main disadvantage the DTD (Document Type Defintion) is no context-systex can be covered.
With DTD can not be guaranteed a well-shaped Repository also a valid relational schema represents.
The newer developments like XML-schema allow a more exact definition of the document-types and overcoming such disadvantages.
</para>
<para>
Another direction for the advancement of the system would be the support of other abstractions and semantics in <command>SchemaEditor</command> and afterwords with the form-server.
Two cases are conceivable here: 1.
the system an interface offers for the addition functions the DBMS like versioning, new data types, DB-rule (Trigger) 2.
The system implements even new functional characters like versioning, Authentiefizierung, integrity rule, cascading delete.
For the conceptual model the support of other abstractions would be possible: derived attributes, derived relations, dependent relations (e.
g.
, an assistant can only in the project participant if he the special qualifications has).
, representation and manipulation of the tree structures which are filed as tables.
</para>
</sect1>
<sect1 id="db-interfaces"><title>Supported Databases</title>
<para>
<itemizedlist>
<listitem><para>mysql</para></listitem>
<listitem><para>postgres</para></listitem>
<listitem><para>sqlite</para></listitem>
<listitem><para>MS SQL-Jet (MS Access Format) (durch ODBC)</para></listitem>
<listitem><para>MS SQL Server (durch ODBC)</para></listitem>
<listitem><para>general ODBC</para></listitem>
<listitem><para>Oracle</para></listitem>
</itemizedlist>
</para>
<para>
&progname; use XOSQL-Adapter.
</para>
</sect1>

<sect1><title>WWW-Links for developers</title>
<para>
<orderedlist>
<listitem><para><ulink url="http://www.tcl.tk">TCL-Tk Home</ulink> entry link for Tcl</para></listitem>
<listitem><para><ulink url="http://www.xotcl.org">XOTcl</ulink> Object oriented Tcl</para></listitem>
<listitem><para><ulink url="http://www.sourceforge/projects/tix">Tix</ulink> Tix Widget library</para></listitem>
<listitem><para><ulink url="http://www.sourceforge/projects/tclodbc">Tclodbc</ulink> ODBC interface</para></listitem>
<listitem><para><ulink url="http://www.xdobry.de/mysqltcl">Mysqltcl</ulink> mysql interface</para></listitem>
<listitem><para><ulink url="http://www.tdom.org">tDom</ulink> DOM implementation</para></listitem>
<listitem><para><ulink url="http://www.mysql.com">Mysql</ulink> free realtional database</para></listitem>
<listitem><para><ulink url="http://www.postgresql.org">Postgresql</ulink> another free RDBMS</para></listitem>
</orderedlist>
</para>
</sect1>

</chapter>
<chapter lang="en" id="commercial">
<title>Productive use</title>
<sect1>
<title>
License</title>
<para>
Of this software is defeated by the license GPL.
The exact wording of the license GPL in English is in the main catalog in <filename>LICENSE</filename>.
Very briefly it is a free software.
</para>
<para>
On this software no guarantee is given.
It is after German law a present (gift).
</para>
</sect1>
<sect1>
<title>
Meaningful using of application</title>
<para>
This software is still in development.
However, this does not mean that it is not usable.
&progname; lacks some important functionality for manage sensible data (transactions, locking, complex validation).
It can be good used for ad-hoc application and prototyping
</para>
</sect1>
<sect1>
<title>
Advantages to opposite existing systems</title>
<para>
There are many similar systems which excel this with the functional character largely, nevertheless it is to be enumerated worth a few peculiarities of the software which distinguish the software.
<orderedlist>
<listitem>
<para>It is very small.</para>
</listitem>
<listitem>
<para>Existing components with computer language Tcl were already stuck together.</para>
</listitem>
<listitem>
<para>Source text is accessible</para>
</listitem>
<listitem>
<para>Development with Tcl and XOTcl is 10 times faster than with JAVA (according to SUN)</para>
</listitem>
<listitem>
<para>It can easily be extended around special features</para>
</listitem>
<listitem>
<para>It uses consistently XML-format</para>
</listitem>
</orderedlist>
</para>
<para>
However, the main advantage is a new way of developing the DB-forms.
The tables themselves do not place the basis for the forms but special the conceptual model.
The conceptual model is won by reverse engineering from databases schema (Data Dictionary).
The forms have so better quality and do not need of agile adaptations as with conventional systems.
The foreign keys are represented as listsboxes.
The inheritance is supported directly.
Embedded forms are possible.
The developing and use of forms was separated (It is always almost done by different people).
Thereby it use very few resources.
More of it in the underlying dissertation.
</para>
</sect1>
<sect1>
<title>Contact with author</title>
<para>
Homepage: <ulink url="http://www.xdobry.de/">http://www.xdobry.de</ulink>
Email: <ulink url="mailto:mail@xdobry.de"><email>mail@xdobry.de</email></ulink>
</para>
</sect1>
</chapter>
<chapter lang="en" id="support">
<title>Support</title>
<para>
The program is free and it is a gift.
If you problem with it inform me.
I promise no guarantee 100per cent of the answer, however, on every bugs report I will be glad.
This allows to improve the program.
First they visit the homepage of the program, perhaps the mistake is known ready and is repaired in new version.
Formulate the mistake description in this way so I can reproduce the bug.
(They Copy the mistake message) you can also send their(her) databases structure (as a SQL-Dump) if the data are not confidentially.
A ER-diagram or specification of the data would be also meaningful.
Support only by email.
</para>
</chapter>

<chapter lang="en" id="install">
<title>Installation from Source code</title>
<para>
Starkit packaged allows so called "copy-installation". Just copy one file no another requirements.
</para>
<para>
&progname; System consists only Tcl-scripts and therefore no compile are necessary.
However, it uses many Tcl-extension (libraries) which were programmed in C or C ++.
There are: Tk, Tix, which belong to Linux-distribution and should be already installed on your computer.
Windows users can use free Tcl distribution from Active-State Tcl
</para>
<para>
Other Tcl-extensions must be installed separately:<orderedlist>
<listitem>
<para>
XOTcl (object oriented extension for Tcl) successor of OTcl and competitor of ITcl.
</para>
</listitem>
<listitem>
<para>
TDom 0.5a2 - is a DOM (Document Object model) interface for treatment of XML-documents.
</para>
</listitem>
<listitem>
<para>
Mysqltcl - is a Tcl interface to MySql databases.
</para>
</listitem>
<listitem>
<para>
Pgtcl - is a Tcl interface to Postgersqll databases.
Belongs also to the newest RedHat distribution (greater 6.2).
</para>
</listitem>
</orderedlist>
The installation of above extensions can be problematically, because it demands some experience with compile programs.
</para>
<para>
&progname; analysis by starting with Tcl interfaces are available.
For checking this Tcl command <command>package require</command> will be used.
following packages will be search for:
<itemizedlist>
<listitem><para>mysqltcl for mysql</para></listitem>
<listitem><para>sqlite for Sqlite</para></listitem>
<listitem><para>Pgtcl for Postgres</para></listitem>
<listitem><para>ORATcl for Oracle</para></listitem>
<listitem><para>tclodbc for ODBC</para></listitem>
<listitem><para>tclodbc for MS Access (Windows only)</para></listitem>
<listitem><para>tclodbc for MS SQL-Server (Windows only)</para></listitem>
</itemizedlist>
</para>
</chapter>
</book>
